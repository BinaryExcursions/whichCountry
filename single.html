<!DOCTYPE HTML>
<!--
	Future Imperfect by Pixelarity
	pixelarity.com | hello@pixelarity.com
	License: pixelarity.com/license
-->
<html>
	<head>
		<title>Country Codes</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>

	<body class="single is-preload">

		<!-- Wrapper -->
				<!-- Header -->
					<header id="header">
						<h1><a href="https://binaryexcursions.github.io/">Github Pages</a></h1>
						<nav class="main">
							<ul>
								<li class="menu">
									<a class="fa-bars" href="#menu">Menu</a>
								</li>
							</ul>
						</nav>
					</header>

				<!-- Menu -->
					<section id="menu">
						<!-- Links -->
							<section>
								<ul class="links">
									<li>
										<a href="#">
											<h3>Lorem ipsum</h3>
											<p>Feugiat tempus veroeros dolor</p>
										</a>
									</li>
									<li>
										<a href="#">
											<h3>Dolor sit amet</h3>
											<p>Sed vitae justo condimentum</p>
										</a>
									</li>
									<li>
										<a href="#">
											<h3>Feugiat veroeros</h3>
											<p>Phasellus sed ultricies mi congue</p>
										</a>
									</li>
									<li>
										<a href="#">
											<h3>Etiam sed consequat</h3>
											<p>Porta lectus amet ultricies</p>
										</a>
									</li>
								</ul>
							</section>
					</section>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<article class="post">
								<header>
									<div class="title">
										<h2><a href="https://github.com/BinaryExcursions/whichCountry" target="_blank" class="fab fa-github" style="font-size: large;">Country Codes</a></h2>
										<p>A straight forward iOS (Swift) project to reliably determine a users country</p>
									</div>
									<div class="meta">
										<div class="name">Author</div>
										<a href="https://github.com/binexc" target="_blank" class="author"><span class="name">Jeff Behrbaum</span><img src="images/Hal9000Small.png" alt="user icon" /></a>
									</div>
								</header>
								<span class="image featured"><img src="images/pic01.jpg" alt="game board" /></span>
								<p>This project demonstrates easily accessible funtionality which isn't always well known, but for the specific use cases - could proove extremely useful to someone out there. You'll want to have something similar to the the following in your code so you can retrieve the country and/or ISO Country Code. This code is what you'll want to use just to retrieve the information about the carrier.</p>

								<div style="overflow: hidden;">
									<pre style="display: inline-flex;">
										<code style="font-size: 0.9rem; font-weight: 550;">

import CoreTelephony

...

class XYX {
	//Declare the primary variable to retreive the carrer info later on
	private var theCarrier:CTCarrier?

	...

	var CountryCode:String {
		return theCarrier!.mobileCountryCode! //Obviously in production you'd verify your optionals.
	}

	var ISOCountryCode:String {
		return theCarrier!.isoCountryCode!
	}
}
										</code>
									</pre>
								</div>

								<p>At some point in your code, you'll need to set up the callback for the event handler which is called when the carrier changes.  Note, this is the same callback which handles the initial carrier detection as well. There is where you'll want your carrier reliably updated so be sure it is in a thread safe call as this callback will <em>NOT</em> occur on the main thread.</p>

								<div style="overflow: hidden;">
									<pre style="display: inline-flex;">
										<code style="font-size: 0.9rem; font-weight: 550;">

import CoreTelephony

...

typealias carrierChangedCallback = ((CTCarrier) -> Swift.Void);

class XYX {
	//Declare the primary variable to retreive the carrer info later on
	private var theCarrierChangeHandler:carrierChangedCallback?

	...

	func myAppsCarrierChangeHandlerMethod(newCarrier:CTCarrier) -> Swift.Void {
		this.theCarrier = newCarrier //Put appropriate locking around this based on your app's needs.
	}
}
										</code>
									</pre>
								</div>

								<p>If you're still curious to learn more - please check out the video below and feel free to use the code in the repo to your heart's content.  <strong><em>Happy coding....</em></strong></p>
								<iframe width="560" height="315" src="https://www.youtube.com/embed/_0TlnXOdIPU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
							</article>
					</div>

				<!-- Footer -->
					<section id="footer">
						<ul class="icons">
							<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
							<li><a href="#" class="icon brands fa-linkedin"><span class="label">LinkedIn</span></a></li>
							<li><a href="#" class="icon brands fa-youtube"><span class="label">YouTube</span></a></li>
							<li><a href="https://github.com/BinaryExcursions" target="_blank" class="icon brands fa-github"><span class="label">RSS</span></a></li>
							<li><a href="mailto: abc@gmail.com" class="icon solid fa-envelope"><span class="label">Email</span></a></li>
						</ul>
						<p class="copyright">&copy; All rights reserved, Binary Excursions LLC.</p>
					</section>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
	</body>
</html>